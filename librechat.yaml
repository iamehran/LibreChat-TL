# ─────────────────────────────────────────────────────────────
# Root of your librechat.yaml
version: "1.1.2"
cache: true

balance:
  enabled: false

# agents:
#   # Global agents available to all users
#   global:
#     - name: "Image Generator"
#       model: "gpt-4o"
#       description: "Creates images from text descriptions using OpenAI DALL-E"
#       instructions: "You are a specialized image generation assistant. Your primary purpose is to create images based on user descriptions. Be precise and detailed in interpreting what the user wants."
#       tools:
#         - name: "openai_image_generation"
#           enabled: true
#         - name: "openai_image_editing"
#           enabled: true

#   # Global permissions
#   capabilities: ["execute_code", "file_search", "actions", "tools"]
#   sharing: true
#   disableBuilder: false
#   recursionLimit: 25

# Endpoints should be at the root level, not nested under agents
endpoints:
  custom:
    # ─── Perplexity (static list) ─────────────────────────────
    - name: "Perplexity"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "https://api.perplexity.ai/"
      models:
        default: [
          "sonar-deep-research",
          "sonar-reasoning-pro",
          "sonar-reasoning",
          "sonar-pro",
          "sonar",
          "r1-1776",
          "pplx-7b-online", 
          "pplx-70b-online"
          ]
        fetch: false # fetching list of models is not supported
      titleConvo: true
      titleModel: "llama-3-sonar-small-32k-chat"
      summarize: false
      summaryModel: "llama-3-sonar-small-32k-chat"
      forcePrompt: false
      dropParams: ["stop", "frequency_penalty"]
      modelDisplayLabel: "Perplexity"

    # ─── Grok (xAI) ─────────────────────────────────────────────
    - name: "xai"
      apiKey: "${XAI_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        default: ["grok-beta", "grok-3-mini", "grok-3"]
        fetch: true
      titleConvo: true
      titleMethod: "completion"
      titleModel: "grok-beta"
      summarize: false
      summaryModel: "grok-beta"
      forcePrompt: false
      searchEnabled: true
      modelDisplayLabel: "Grok"

# ─────────────────────────────────────────────────────────────
